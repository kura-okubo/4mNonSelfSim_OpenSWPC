# Minimum working example for ball-drop source with rock specimen

This example performs a forward modeling of the wave propagation generated by ball-drop impact (single force) in a rock specimen.

## Local test environment

> The following is noted only for the compilation of the extended version forked from v5.1.0. See [the latest original document](https://openswpc.github.io/1._SetUp/0103_compile/#specifying-compiler-options) for installation of the latest OpenSWPC. 

- Mac mini (M1, 2020)
- macOS Version 15.3.1 (24D70) as of March 12, 2025

```sh
brew install openmpi netcdf-fortran zlib
```

| package | version |
| --- | --- |
| Homebrew | v4.4.24 |
| open-mpi | v5.0.7 |
| netCDF | v4.9.3 |
| netCDF-fortran | v4.6.1 |
| GNU Fortran (Homebrew GCC 14.2.0_1)| 14.2.0 |

To compile the software, run the following in the `src` directory:
```sh
mkdir ../bin
make arch=mac-gfortran-new
```

> Tips:  Updating Xcode to Version 16.2 (16C5032a) was needed to compile the software.

## How to run
Execute `sh run_example.sh`.

## Description
Drop a 2 mm diameter steel ball from a height of 0.5 m onto a rock sample measuring 400 × 220 × 120 mm.

## Result

See [example_balldrop_result.ipynb](./example_balldrop_result.ipynb).

